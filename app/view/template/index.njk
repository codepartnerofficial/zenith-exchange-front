<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    {# <meta name="viewport" content="width=device-width,initial-scale=1.0"> #}
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0;">

    <meta property="og:type" content="website">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="600" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:width" content="600">
    <meta property="og:image" content="{{seo.pageContent}}"/>
    <meta name="twitter:image" content="{{seo.pageContent}}">
    <meta name="keyWords" content="{{seo.keywords}}"/>
    <meta name="twitter:title" content="{{seo.title}}"/>
    <meta property="og:title" content="{{seo.title}}"/>
    <meta name="description" content="{{seo.description}}">
    <meta property="og:description" content="{{seo.description}}"/>
    <meta name="twitter:description" content="{{seo.description}}">
    <link type="image/x-icon" rel="shortcut icon" href="{{msg.iconUrl}}">
    <title>{{seo.title}}</title>
    <link rel="stylesheet" href="{{sourceMap.staticDomain}}/home/static/{{sourceMap['common.css']}}"/>
    <script src="{{sourceMap.staticDomain}}/home/static/js/security.js?t=1595387885045"></script>
    <script src="{{sourceMap.staticDomain}}/home/static/{{sourceMap['iconfont']}}" async id="iconfont"></script>
    <script src="{{sourceMap.staticDomain}}/home/static/js/event-emitter.min.js"></script>
    <style>
        .iScrollVerticalScrollbar .iScrollIndicator{
            border: 0 !important;
        }
    </style>
</head>
<body class="inx b-2-cl c-2-bg Chainer" id="{{ boxClass }}">
<script>
    window.ispc = "{{ ispc }}";
    window.env = "{{ env }}";
    window.imgMap = {{imgMap | safe}};
    window.websocketPath = "{{sourceMap['websocket-work']}}";
    window.emitter = new EventEmitter();
    window.staticDomain = "{{sourceMap.staticDomain}}";
    window.coinTagOpen = '{{ switch.coin_tag_open }}';
    window.publicInfo = {
        skin: {{ skin | dump | safe}},
        lan: {
            defLan: "{{ lan.defLan }}"
        }
    }
    window.isCoOpen = {{ isCoOpen }}
    window.coUrl = "{{ coUrl }}"

</script>
<script>inline-utils</script>
<script inline-html></script>
<script id="index-script">
    var getScript = window.BlockChainUtils.getScript;
    window.addEventListener('resize', function() {
        emitter.emit('resize');
    });
    var lan = window.location.href.match(/[a-z]+_[A-Z]+/)[0];
    if(!window.isCoOpen){
     fetchData({
          url: '/fe-ex-api/common/public_info_market',
     }).then(function(data) {
      if (data.code.toString() === '0') {
       var coinList = data.data.market.coinList
       var setSymbolAll = function(result) {
        var symbolAll = {};
        var marketKey = Object.keys(result.market);
        marketKey.forEach(function(item) {
         var symbolKey = Object.keys(result.market[item]);
         symbolKey.forEach(function(symbol) {
          symbolAll[symbol] = result.market[item][symbol];
          var isShow = result.market[item][symbol].isShow;
          if (typeof isShow === 'undefined' || Object.prototype.toString.call(isShow) === 'Null') {
           symbolAll[symbol].isShow = 1;
          }
         });
        });
        return symbolAll;
       };
       var myCoinList = {};
       Object.keys(coinList).forEach(function(item) {
        if (!coinList[item].fiatPrecision) {
         myCoinList[item] = {
          ...coinList[item],
          fiatPrecision: { cny: '2', usd: '2', krw: '2' },
         };
        } else {
         var coin = JSON.parse(JSON.stringify(coinList[item]));
         if (coin.symbolPrecision) {
          coin.fiatPrecision = coin.symbolPrecision;
         }
         myCoinList[item] = { ...coin };
        }
       });
       var myMarket = { ...data.data.market, coinList: myCoinList };
       data.data.symbolAll = setSymbolAll(myMarket);
       window.market = data.data;
       emitter.emit('getMarket', data.data);
      }
     });
    }
    if (window.ispc === 'true'){
        var homeDialog = "{{sourceMap.homeDialog}}";
        emitter.on('login', function() {
            getScript(`${window.staticDomain}/home/static/${homeDialog}`).then(function() {
                new window.HomeDialog();
            });
        })
    }
</script>
<script src="{{sourceMap.staticDomain}}/home/static/{{sourceMap['tip']}}" async></script>
{% include headerTemplateModule %}
<div class="page-content page-content-chain" style="position: relative; min-height: 800px" id="app">
    {% include templateModule %}
</div>

{% if switch.index_temp_type != '8'%}
{% include "modules/footer/china.njk" %}
{% endif %}
<script>
    {{ msg.config_footer_js | safe }}
</script>
</body>
</html>
