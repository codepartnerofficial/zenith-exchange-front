<section class="v5-header type-one">
  <style>
    .v5-header {
      width: 100%;
      height: 60px;
    }
    .v5-header .v5-header-container {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      font-family: DINPro-Medium;
    }
    .v5-header .logo {
      margin-right: 40px;
      flex-shrink: 0;
    }
    .v5-header .logo img {
      max-height: 50px;
      max-width: 160px;
      cursor: pointer;
    }
    .v5-header .nav-container {
      flex: 1;
      flex-shrink: 0;
    }
    .v5-header .nav-container .nav-list {
      display: flex;
    }
    .v5-header .nav-container .nav-item {
      font-size: 14px;
      line-height: 60px;
      margin-right: 32px;
      position: relative;
    }
    .v5-header .nav-container .sub-nav-list {
      min-width: 144px;
      position: absolute;
      height: 0;
      padding: 12px 8px;
      opacity: 0;
      overflow: hidden;
      border-radius: 4px;
      left: 0;
      top: 60px;
      transition: all 0.3s;
      z-index: 100;
      box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.1);
      box-sizing: border-box;
    }
    .v5-header .nav-container .sub-nav-list .sub-item {
      width: 100%;
      font-size: 14px;
    }
    .v5-header .nav-container .sub-nav-list .sub-item a {
      display: block;
      width: 100%;
      padding: 0 12px;
      border-radius: 4px;
      height: 36px;
      line-height: 36px;
      box-sizing: border-box;
    }
    .v5-header .nav-container .sub-nav-list .sub-item a.active {
      display: none;
    }
    .v5-header .nav-container .sub-nav-list .sub-item:hover a.active {
      display: block;
      background-color: red;
    }
    .v5-header .nav-container .sub-nav-list .sub-item:hover a.static {
      display: none;
    }
  </style>
  <div class="v5-header-container">
    <div class="logo">
      <a class="logo-link" href="{{ headerLink.home }}">
        <img src="{{ msg.logoUrl}}"/>
      </a>
    </div>
    <div class="nav-container">
      <ul class="nav-list">
        {% for item in headerNavList %}
        <li class="nav-item">
          <a href="{{item.httpUrl}}">{{item.title}}</a>
          {% if item.childList.length > 0 %}
          <i>
            <svg aria-hidden="true" class="icon icon-12"></svg>
          </i>
          <ul class="sub-nav-list">
            {% for sub in item.childList %}
            <li class="sub-item">
              <a class="static" href="{{sub.httpUrl}}">{{sub.title}}</a>
              <a class="active" href="{{sub.httpUrl}}">{{sub.title}}</a>
            </li>
            {% endfor %}
          </ul>
          {% endif %}
        </li>
        {% endfor %}
      </ul>
    </div>
    <div class="personal"></div>
  </div>
  <script>
    (() => {
      class headerExtend {
        constructor() {
          this.init();
        }

        init() {
          this.$navList = Array.prototype.slice.call(document.querySelectorAll('.v5-header .nav-list .nav-item'));
          console.log(this.$navList);
          this.$navList.forEach((item) => {
            const $subNav = item.querySelector('.sub-nav-list');
            if ($subNav) {
              const $subNavList = $subNav.querySelectorAll('.sub-item');
              item.addEventListener('mouseover', () => {
                $subNav.style.height = `${$subNavList.length * 36 + 24}px`;
                $subNav.style.opacity = '1';
              })
              item.addEventListener('mouseleave', () => {
                $subNav.style.height = `0px`;
                $subNav.style.opacity = '0';
              })
            }
          })
        }
      }
      new headerExtend();
    })()
  </script>
</section>